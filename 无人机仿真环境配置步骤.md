# 无人机仿真平台搭建

## 1 前面的话

搭建出一个能够使用的仿真平台是很容易的。

使用Ubuntu20.04.6desktop-amd64作为操作系统。工具链为ROS2-Gazebo-PX4。

### px4是什么

PX4 是一款**开源的自动驾驶仪软件**，专为无人机、无人车、机器人及其他自动驾驶系统设计。它由社区驱动，遵循 BSD 许可证，允许用户自由使用、修改和分发代码，广泛应用于学术研究、工业开发和业余爱好者项目。

> BSD许可证是一种开源协议，如果使用了包含该开源项目的源代码或者二进制文件，需要在发布的项目中必须包含源代码中的BSD协议；在项目发行或推广时，不能使用开源代码的作者/机构名字和原来产品的名字做市场推广。

px4在使用方面包含了丰富的飞行控制算法，对各种硬件都有适配；在开发和设计方面，它具有模块化的设计，还提供了一套仿真工具，同时还有对外部设备的通信协议。

### Gazebo是什么

**Gazebo** 是一款**开源的机器人仿真平台**，专为复杂物理环境中的机器人建模、算法测试和场景模拟而设计。它能够高精度模拟真实世界的物理特性（如重力、摩擦力、光照等），常与机器人操作系统 **ROS/ROS 2** 结合使用，是机器人开发、自动驾驶、无人机控制等领域的重要工具。

### ROS和ROS2是什么

ROS系统对机器人硬件作出了抽象，可以理解为*“操控机器人的编程语言”*，

### 为什么要使用这个技术路线

ROS/ROS2与PX4和Gazebo结合，可以构建从仿真到实机的全部流程，大幅度地降低了开发、部署和集成地难度。

## 2 如何安装和使用虚拟机

到国内各个大学的开源镜像网站中找到对应版本的ubuntu系统下载。

VMware是安装虚拟机的工具，在2024年开放了17以后Pro版本的个人免费使用，2025年4月，官网还没修好，找了其他的下载地址。如果链接不可用了，请自行到官网下载。

> [GitHub - yanghao5/VM-download: VM unofficial download](https://github.com/yanghao5/VM-download)

在第一次对虚拟机分配内存和磁盘空间的时候，多分配一点，推荐内存16+G，磁盘空间40+G。

安装好了虚拟机后，不要对ubuntu系统的桌面进行美化，可以添加中文输入法，但是不能修改系统语言。

更改**主机Host**，注意是主机，不是虚拟机(客户机)。我们需要从Github上下载大量的源代码到本地，此举是为了让链接更加稳定。在进行此操作时，请务必将原有的host文件备份！

更改Ubuntu系统的软件源下载地址。由于系统默认的软件源下载网站大多在国外，为了节约时间，将软件包管理器的下载地址替换成国内镜像源。

**每完成一个工作节点请务必保存一个快照**（就是备份，避免虚拟机崩溃后又要从头开始，避免仿真环境配置失败后残留卸载麻烦）。















